:root{
  --bg:#0a0a12;
  --fg:#e9ecf3;
  --muted:#a6b0c8;

  --brand:#54ffbd;
  --brand2:#4da0ff;

  --glass:rgba(255,255,255,.06);
  --maxw:1200px;

  /* fondo video */
  --universe-height: 85vh;

  /* radios */
  --r:16px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:Poppins,system-ui,-apple-system,Segoe UI,Inter,Roboto;
  color:var(--fg);
  background:#000; /* fallback */
  -webkit-font-smoothing:antialiased;
}

/* ========= Fondo video global (único sistema de fondo) ========= */
.universe-bg{
  position:fixed;
  inset:0;
  width:100%;
  height:var(--universe-height);
  object-fit:cover;
  z-index:-2;
  filter:saturate(1.1) contrast(1.05) brightness(.85);
  will-change:transform;
  backface-visibility:hidden;
}
.universe-fade{
  position:fixed;
  top:0; left:0;
  width:100%;
  height:calc(var(--universe-height) + 35vh);
  z-index:-1;
  pointer-events:none;
  background:linear-gradient(to bottom,
    rgba(0,0,0,0) 55%,
    rgba(0,0,0,.65) 78%,
    #000 100%
  );
}
@media (max-height:700px){
  :root{ --universe-height: 70vh; }
}

/* ========= Layout ========= */
.container{ max-width:var(--maxw); margin:0 auto; padding:0 20px; }
.section{ padding:80px 0; background:transparent; }

/* ========= Header ========= */
.site-header{
  position:sticky; top:0; z-index:40;
  background:rgba(10,10,18,.55);
  backdrop-filter:saturate(1.2) blur(10px);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.header-inner{ display:flex; align-items:center; justify-content:space-between; min-height:64px; }

.brand{
  font-weight:900; letter-spacing:.5px;
  text-decoration:none; color:var(--fg);
}
.brand span{
  background:linear-gradient(135deg,var(--brand),var(--brand2));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

.nav{ display:flex; gap:18px; align-items:center; }
.nav a{ color:var(--fg); text-decoration:none; font-weight:600; opacity:.9; }
.nav a:hover{ opacity:1; }

.nav-toggle{
  display:none;
  background:transparent; border:0;
  width:36px; height:28px; position:relative;
}
.nav-toggle span{
  position:absolute; left:0; right:0;
  height:2px; background:#fff;
  transform-origin:left; transition:.2s;
}
.nav-toggle span:nth-child(1){ top:4px; }
.nav-toggle span:nth-child(2){ top:13px; }
.nav-toggle span:nth-child(3){ bottom:4px; }

/* botones */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
  padding:.8rem 1.1rem;
  border-radius:999px;
  text-decoration:none;
  font-weight:800;
  border:1px solid transparent;
}
.btn--primary{
  background:linear-gradient(135deg,var(--brand),var(--brand2));
  color:#071018;
  box-shadow:0 0 20px rgba(84,255,189,.35);
}
.btn--ghost{
  border-color:rgba(255,255,255,.18);
  color:var(--fg);
  background:rgba(255,255,255,.03);
}
.btn--ghost:hover{ background:rgba(255,255,255,.08); }

/* mobile nav (usa is-open para que coincida con tu JS habitual) */
@media (max-width: 840px){
  .nav{
    position:fixed;
    inset:64px 0 auto 0;
    background:rgba(10,10,18,.95);
    backdrop-filter:blur(10px);
    padding:16px 20px;
    display:none;
    flex-direction:column;
    gap:12px;
    border-bottom:1px solid rgba(255,255,255,.06);
  }
  .nav.is-open{ display:flex; }
  .nav-toggle{ display:block; }
}

/* ========= Hero ========= */
.hero{
  min-height:84vh;
  display:grid;
  place-items:center;
  text-align:center;
  position:relative;
  overflow:hidden;
  background:transparent;
}
.hero__content{ position:relative; z-index:2; }
.hero h1{
  font-size:clamp(2rem,4vw + 1rem,4rem);
  line-height:1.05;
  margin:0 0 12px;
  text-shadow:0 2px 18px rgba(0,0,0,.55);
}
.hero p{
  margin:0 auto 18px;
  color:var(--muted);
  max-width:820px;
  text-shadow:0 1px 10px rgba(0,0,0,.45);
}
.hero__cta{ display:flex; justify-content:center; gap:12px; flex-wrap:wrap; }

/* ========= About ========= */
.about__grid{ display:grid; grid-template-columns:1.2fr .8fr; gap:28px; }
.about__card{
  background:var(--glass);
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--r);
  padding:24px;
}
.bullets{ margin:14px 0 0; padding:0 0 0 18px; color:#cfd6eb; }

@media (max-width: 980px){
  .about__grid{ grid-template-columns:1fr; }
}

/* ========= Services – Cards 3D (las que te gustan) ========= */
.services h2{ text-align:center; margin-bottom:28px; }

.cards{
  display:grid;
  gap:clamp(18px,2.4vw,26px);
  grid-template-columns:repeat(4,1fr);
}
@media (max-width:1100px){ .cards{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:620px){ .cards{ grid-template-columns:1fr; } }

/* colores por servicio */
.card--web { --c1:#7f5af0; --c2:#00e0ff; }
.card--seo { --c1:#21d07a; --c2:#00e0ff; }
.card--saas{ --c1:#ff8a00; --c2:#ffd400; }
.card--wa  { --c1:#25D366; --c2:#12b886; }

/* base */
.tilt-card{
  position:relative;
  height:320px;
  background:#0f0f0f url('assets/img/cards/starfield.jpg') center/cover no-repeat;
  border-radius:20px;
  color:#fff;
  transform-style:preserve-3d;
  animation:cardFloat 2s ease-in-out infinite;
  box-shadow:0 0 50px 0 rgba(0,0,0,.6), inset 0 0 90px 0 rgba(31,31,31,1);
  border:1px solid rgba(255,255,255,.08);
  padding:18px;
  display:flex; flex-direction:column; justify-content:flex-end; align-items:flex-start;
  overflow:hidden;
  transition: box-shadow .35s ease, transform .2s ease, filter .35s ease;
  backdrop-filter: blur(2px);
  will-change: transform, filter;
}

/* imágenes por card */
.card--web  { background-image:url('assets/img/cards/web.jpg'); }
.card--seo  { background-image:url('assets/img/cards/seo.jpg'); }
.card--saas { background-image:url('assets/img/cards/saas.jpg'); }
.card--wa   { background-image:url('assets/img/cards/wa.jpg'); }

.tilt-card::after{
  content:"";
  position:absolute; inset:-2px;
  background:
    radial-gradient(120% 80% at 100% 0%, color-mix(in oklab, var(--c1) 45%, transparent) 0%, transparent 60%),
    radial-gradient(120% 80% at 0% 100%, color-mix(in oklab, var(--c2) 45%, transparent) 0%, transparent 60%);
  mix-blend-mode:screen;
  opacity:.28;
  pointer-events:none;
  transition:opacity .35s ease;
}

.tilt-card .kicker{
  position:absolute; top:14px; left:16px;
  font-weight:900; letter-spacing:.02em;
  text-shadow:0 1px 0 rgba(0,0,0,.45);
}
.tilt-card .text{
  opacity:0;
  transition:.35s ease;
  transform: translateZ(30px);
  text-shadow:0 1px 0 rgba(0,0,0,.6);
}
.tilt-card .points{
  font-size:14px;
  color:#eaeaff;
  opacity:.95;
  margin:8px 0 0 0;
}
.tilt-card .points i{ opacity:.6; margin:0 6px; }

.tilt-card:hover,
.tilt-card:focus-within{
  filter:brightness(1.04) saturate(1.08);
  box-shadow:
    0 0 36px 0 color-mix(in oklab, var(--c1) 35%, transparent),
    0 0 72px 0 color-mix(in oklab, var(--c2) 28%, transparent),
    inset 5px 5px 18px 0 rgba(31,31,31,1);
}
.tilt-card:hover .text,
.tilt-card:focus-within .text{
  opacity:.96;
  transform: translateZ(36px) scale(1.02);
}
.tilt-card:hover::after,
.tilt-card:focus-within::after{ opacity:.48; }

@keyframes cardFloat{
  0%{ transform: rotateX(-12deg) translateY(0); }
  50%{ transform: rotateX(-12deg) translateY(-8px); }
  100%{ transform: rotateX(-12deg) translateY(0); }
}
@media (max-width:900px){
  .tilt-card{ height:260px; padding:16px; }
  .tilt-card .points{ font-size:13px; }
}
@media (max-width:480px){
  .tilt-card{ height:230px; }
  .tilt-card .kicker{ font-size:15px; }
}
@media (hover:none){
  .tilt-card{ animation:none; }
  .tilt-card .text{ opacity:.9; }
  .tilt-card::after{ opacity:.35; }
}

.note{ margin-top:14px; color:#bfc4ff; text-align:center; font-size:.95rem; opacity:.9; }

/* ========= Game (Planet Defense) ========= */
.game{
  background:radial-gradient(900px 360px at 50% 0%, rgba(84,255,189,.12), transparent 60%);
}
.game__intro{ text-align:center; margin-bottom:18px; }

.game-canvas-wrap{
  position:relative;
  width:100%;
  aspect-ratio:16/9;
  border:1px solid rgba(255,255,255,.08);
  border-radius:12px;
  overflow:hidden;
  background:#191919;
  box-shadow:0 0 16px rgba(0,0,0,.35);
}
#planet-defense-canvas{
  position:absolute; inset:0;
  width:100%; height:100%;
  background:url('https://marclopezavila.github.io/planet-defense-game/img/space.jpg') center/cover no-repeat;
}
#planet-defense-canvas.playing{
  cursor:url('https://marclopezavila.github.io/planet-defense-game/img/aim_red.png') 17.5 17.5, auto !important;
}
@media (max-width:520px){
  .game-canvas-wrap{ aspect-ratio: 9 / 16; }
}

/* ========= Contact ========= */
.contact__grid{ display:grid; grid-template-columns:1.1fr .9fr; gap:28px; }
.contact__card{
  background:var(--glass);
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--r);
  padding:24px;
}
.contact__cta{ display:flex; gap:12px; flex-wrap:wrap; }

@media (max-width:980px){
  .contact__grid{ grid-template-columns:1fr; }
}

/* ========= Footer ========= */
.site-footer{
  border-top:1px solid rgba(255,255,255,.06);
  padding:22px 0;
  background:#09090f;
}
.footer-inner{ display:flex; align-items:center; justify-content:space-between; }
.link{ color:#cfe3ff; text-decoration:none; }

/* ======== WhatsApp flotante ======== */
.wb-float{
  position:fixed; right:18px; bottom:18px; z-index:60;
  width:62px; height:62px; border-radius:50%;
  background:radial-gradient(ellipse at center, rgba(0,224,255,.22), rgba(0,0,0,.55));
  border:1px solid rgba(0,224,255,.55);
  box-shadow:0 0 14px rgba(0,224,255,.35), 0 0 34px rgba(127,90,240,.22), inset 0 0 18px rgba(0,224,255,.18);
  display:grid; place-items:center;
  transition:transform .2s ease;
  text-decoration:none;
}
.wb-float:hover{transform:translateY(-2px) scale(1.03);}

.wb-float img{
  width:28px;
  height:28px;
  display:block;
  object-fit:contain;
  filter:drop-shadow(0 0 8px rgba(0,224,255,.55));
}

.wb-pulse{
  position:absolute; inset:-10px; border-radius:50%;
  border:1px solid rgba(0,224,255,.35);
  animation:pulse 2.4s ease-out infinite;
}

@keyframes pulse{
  0%{transform:scale(0.9); opacity:.9;}
  70%{transform:scale(1.18); opacity:.18;}
  100%{transform:scale(1.28); opacity:0;}
}

.wb-tip{
  position:absolute;
  right:74px;
  bottom:50%;
  transform:translateY(50%);
  background:rgba(0,0,0,.72);
  border:1px solid rgba(0,224,255,.35);
  box-shadow:0 0 18px rgba(0,224,255,.18);
  padding:.55rem .8rem;
  border-radius:12px;
  color:#e9f7ff;
  font-weight:900;
  white-space:nowrap;
  opacity:0;
  pointer-events:none;
  transition:opacity .2s ease, transform .2s ease;
  backdrop-filter:blur(8px);
}
.wb-float:hover .wb-tip{
  opacity:1;
  transform:translateY(50%) translateX(-4px);
}
@keyframes pulse{
  0%{transform:scale(0.9); opacity:.9;}
  70%{transform:scale(1.18); opacity:.18;}
  100%{transform:scale(1.28); opacity:0;}
}
.wb-tip{
  position:absolute;
  right:74px;
  bottom:50%;
  transform:translateY(50%);
  background:rgba(0,0,0,.72);
  border:1px solid rgba(0,224,255,.35);
  box-shadow:0 0 18px rgba(0,224,255,.18);
  padding:.55rem .8rem;
  border-radius:12px;
  color:#e9f7ff;
  font-weight:900;
  white-space:nowrap;
  opacity:0;
  pointer-events:none;
  transition:opacity .2s ease, transform .2s ease;
  backdrop-filter:blur(8px);
}
.wb-float:hover .wb-tip{
  opacity:1;
  transform:translateY(50%) translateX(-4px);
}
@keyframes pulse{
  0%{ box-shadow:0 0 0 0 rgba(27,215,65,.45); }
  70%{ box-shadow:0 0 0 22px rgba(27,215,65,0); }
  100%{ box-shadow:0 0 0 0 rgba(27,215,65,0); }
}
